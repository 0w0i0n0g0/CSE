# Halting Problem

Halting problem이란 **"주어진 프로그램이 해결하고자 하는 문제가 해결 가능한지 말해줄 수 있는 일반화된 알고리즘이 존재하는가?"** 라는 질문이다.

1936년 앨런 튜링은 튜링 머신이라는 개념을 도입하고 적용하여, 이 문제에 대해 **이것을 해결할 수 있는 일반화된 방법은 없다** 라는 결론을 내렸으며, 이는 논리학적으로 결정불가능함(undecidable)이 증명된 최초의 문제다.

현대에 어떠한 문제가 결정 불가능인지를 증명할 때 가장 전형적인 방법은 어떤 문제가 정지문제로 환원될 수 있다는 것을 보여주는 방법이다.

<br>

## Halting problem을 해결하는 알고리즘이 없음을 증명

귀류법을 통해 증명할 수 있다.

즉, 해결방법이 있다라는 가정에서 모순이 발생한다는 것을 보임으로써 증명한다.

<br>

### 문제 : 프로그램 $M$과 입력 $X$가 있을 때, $M(X)$를 수행시키면 $M$이 언젠가 종료할지, 무한루프에 빠져 영원히 멈추지 않을지를 프로그램을 실행시켜보기 전에 알 수 있는가?

귀류법을 위해 **"모든 프로그램 $M$과 $M$에 대한 모든 입력 $X$에 대해 $M(X)$가 종료될지를 판단할 수 있는 프로그램 $D$가 존재한다"** 고 가정하자.

여기서 프로그램 $D(M, X)$는

- Yes (프로그램 $M$은 입력 $X$에 대해 언젠가 종료한다.)

또는

- No (프로그램 $M$은 입력 $X$에 대해 종료되지 않고 영원히 실행된다.)

만을 대답하고, 항상 종료되어야 한다.

따라서 프로그램 $D$의 입력은 어떤 프로그램과 그 프로그램에 주어질 입력을 받고, 출력은 종료 여부를 출력하고 항상 종료한다.

<br>

프로그램 $D$가 있다면, $D$를 이용하여 다음 $D'$과 $S$를 쉽게 만들 수 있다.

- $D'(M, X)$ : $D(M, X)$가 Yes일 때 $D'(M, X)$는 무한루프에 빠지고, $D(M, X)$가 No일 때 $D'(M, X)$는 종료한다.

- $S(M)$ : $D(M, M)$이 Yes일 때 $S(M)$는 무한루프에 빠지고, $D(M, M)$가 No일 때 $S(M)$은 종료한다. 즉 $D'(M, M)$와 같다.

<br>

이제 프로그램 $S(S)$를 실행해보자.

위에서 정한대로 $D(S, S)$이 Yes일 때 $S(S)$는 무한루프에 빠지고, $D(S, S)$가 No일 때 $S(S)$은 종료해야 한다.

그런데 이상하다.

$D(S, S)$가 Yes, 즉, $S(S)$가 언젠가 종료하는 경우, $S(S)$는 무한루프에 빠진다.

$D(S, S)$가 No, 즉, $S(S)$는 무한루프에 빠져 영원히 멈추지 않는 경우, $S(S)$은 종료된다.

<br>

여기서 모순이 생기므로, 처음 가정한 **"모든 프로그램 $M$과 $M$에 대한 모든 입력 $X$에 대해 $M(X)$가 종료될지를 판단할 수 있는 프로그램 $D$가 존재한다"** 에서 이를 판단할 수 있는 프로그램 $D$는 **존재하지 않는다.** 를 증명할 수 있다.

## 해킹을 모두 막을 수 있는 방법이 존재하는가?

우리는 웹사이트의 해킹을 막기 위해서 미리 소스 코드를 분석해서 해킹 공격에 취약한 부분이 있는지 확인하고, 취약한 부분을 모두 찾아내 해킹을 모두 막을 수 있는 방법을 만들고자 한다.

과연 이런 방법이 존재할까?

### Halting Problem으로 그러한 방법이 없음을 증명

과연 잘만 따지면 해킹할 수 있는 모든 경우를 다 찾아서 막을 수 있을까?

웹사이트의 취약한 부분을 막기 위해서, 웹사이트의 소스 코드 (즉, 위 예시에서 프로그램) 와 모든 해킹방법 (즉, 위 예시에서 모든 입력) 을 받아서 웹사이트가 해킹 당하는지 판별하는 프로그램을 만들었다고 하자.

그 다음 이 프로그램에 웹사이트의 소스 코드를 수정해서 멈추지 않는 형태의 웹사이트 소스 코드를 입력하고, 해킹 방법 중에는 웹사이트 해킹에 성공하면 웹사이트가 멈추지 않도록 하는 소스 코드를 해킹해서 멈추도록 바꾼다고 하자.

그러면 다음과 같이 해킹 여부를 판별할 수 있다.

- 무한루프에 빠진 웹사이트 소스 코드가 멈춘 경우, 소스 코드가 해킹된 것

- 무한루프에 빠진 웹사이트 소스 코드가 멈추지 않을 경우, 소스코드는 해킹되지 않은 것

결국 이 프로그램은 웹사이트의 소스 코드가 무한루프에 빠질지, 아니면 무한루프가 멈추고 종료될지 판별해야 한다.

이는 Halting Problem에서 그런 방법이 존재하지 않는다고 증명되었다.
